{"version":3,"sources":["../lib/utils.jsx"],"names":["getCataLog","getScrollTop","element","cataLog","tag","Array","from","querySelectorAll","map","getNextNode","el","nextElementSibling","findIndex","_","tagName","type","item","text","innerText","node","nextNode","scrollTop","document","documentElement","body"],"mappings":";;;;;QAIgBA,U,GAAAA,U;QA0BAC,Y,GAAAA,Y;AA9BhB;;;;AAIO,SAASD,UAAT,CAAoBE,OAApB,EAA6B;AAClC,MAAIC,UAAU,EAAd;AACA,MAAIC,MAAM,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,CAAV;AACAD,YAAUE,MAAMC,IAAN,CAAWJ,QAAQK,gBAAR,CAAyB,UAAzB,CAAX,CAAV;AACA,SAAOJ,QAAQK,GAAR,CAAY,gBAAQ;AACzB,aAASC,WAAT,CAAqBC,EAArB,EAAyB;AACvB,UACEA,GAAGC,kBAAH,KAA0B,IAA1B,IACAP,IAAIQ,SAAJ,CAAc;AAAA,eAAKC,MAAMH,GAAGI,OAAd;AAAA,OAAd,MAAyC,CAAC,CAF5C,EAGE;AACA,eAAOL,YAAYC,GAAGC,kBAAf,CAAP;AACD,OALD,MAKO;AACL,eAAOD,EAAP;AACD;AACF;AACD,WAAO;AACLK,YAAM,aAAaC,KAAKF,OADnB;AAELG,YAAMD,KAAKE,SAFN;AAGLC,YAAMH,IAHD;AAILI,gBAAUX,YAAYO,KAAKL,kBAAjB;AAJL,KAAP;AAMD,GAjBM,CAAP;AAkBD;AACD;;;AAGO,SAASV,YAAT,GAAwB;AAC7B,MAAIoB,YAAY,CAAhB;AACA,MAAIC,SAASC,eAAT,IAA4BD,SAASC,eAAT,CAAyBF,SAAzD,EAAoE;AAClEA,gBAAYC,SAASC,eAAT,CAAyBF,SAArC;AACD,GAFD,MAEO,IAAIC,SAASE,IAAb,EAAmB;AACxBH,gBAAYC,SAASE,IAAT,CAAcH,SAA1B;AACD;AACD;;AAEA,SAAOA,SAAP;AACD","file":"utils.js","sourcesContent":["/**\r\n * 获取文章目录\r\n * @param {*} element 文章根DOM\r\n */\r\nexport function getCataLog(element) {\r\n  let cataLog = [];\r\n  let tag = [\"H1\", \"H2\", \"H3\"];\r\n  cataLog = Array.from(element.querySelectorAll(\"h1,h2,h3\"));\r\n  return cataLog.map(item => {\r\n    function getNextNode(el) {\r\n      if (\r\n        el.nextElementSibling !== null &&\r\n        tag.findIndex(_ => _ === el.tagName) === -1\r\n      ) {\r\n        return getNextNode(el.nextElementSibling);\r\n      } else {\r\n        return el;\r\n      }\r\n    }\r\n    return {\r\n      type: \"cataLog-\" + item.tagName,\r\n      text: item.innerText,\r\n      node: item,\r\n      nextNode: getNextNode(item.nextElementSibling)\r\n    };\r\n  });\r\n}\r\n/**\r\n * 获取当前滚动条所在位置\r\n */\r\nexport function getScrollTop() {\r\n  let scrollTop = 0;\r\n  if (document.documentElement && document.documentElement.scrollTop) {\r\n    scrollTop = document.documentElement.scrollTop;\r\n  } else if (document.body) {\r\n    scrollTop = document.body.scrollTop;\r\n  }\r\n  // console.log('当前', scrollTop);\r\n\r\n  return scrollTop;\r\n}\r\n"]}